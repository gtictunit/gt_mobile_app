{"version":3,"names":["AnimatedProgress","Animated","createAnimatedComponent","CircularProgress","AnimatedCircularProgress","duration","easing","Easing","out","ease","fill","prefill","useNativeDriver","tintColorSecondary","onAnimationComplete","tintColor","other","fillAnimation","React","useState","Value","animate","useCallback","toVal","dur","toValue","dura","eas","useNative","anim","timing","start","animateColor","tintAnimation","interpolate","inputRange","outputRange","useEffect","style","childrenContainerStyle"],"sources":["AnimatedCircularProgress.tsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  Animated,\n  Easing,\n  EasingFunction,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\nimport CircularProgress, {\n  Props as CircularProgressProps,\n} from \"./CircularProgress\";\nconst AnimatedProgress = Animated.createAnimatedComponent(CircularProgress);\n\ntype Props = {\n  duration?: number;\n  easing?: EasingFunction;\n  prefill?: number;\n  useNativeDriver?: boolean;\n  tintColorSecondary?: string;\n  onAnimationComplete?: Animated.EndCallback | undefined;\n} & CircularProgressProps;\n\nconst AnimatedCircularProgress: React.FC<React.PropsWithChildren<Props>> = ({\n  duration = 500,\n  easing = Easing.out(Easing.ease),\n  fill,\n  prefill = 0,\n  useNativeDriver = false,\n  tintColorSecondary,\n  onAnimationComplete,\n  tintColor = \"black\",\n  ...other\n}) => {\n  const [fillAnimation] = React.useState<Animated.Value>(\n    new Animated.Value(prefill)\n  );\n\n  const animate = React.useCallback(\n    (\n      toVal: number = -1,\n      dur?: number,\n      ease?: EasingFunction\n    ): Animated.CompositeAnimation => {\n      const toValue = toVal >= 0 ? toVal : fill;\n      const dura = dur || duration;\n      const eas = ease || easing;\n      const useNative = useNativeDriver;\n\n      const anim = Animated.timing(fillAnimation, {\n        useNativeDriver: useNative,\n        toValue,\n        easing: eas,\n        duration: dura,\n      });\n      anim.start(onAnimationComplete);\n\n      return anim;\n    },\n    [\n      duration,\n      easing,\n      fill,\n      useNativeDriver,\n      fillAnimation,\n      onAnimationComplete,\n    ]\n  );\n\n  const animateColor = () => {\n    if (!tintColorSecondary) {\n      return tintColor;\n    }\n\n    const tintAnimation = fillAnimation.interpolate({\n      inputRange: [0, 100],\n      outputRange: [tintColor, tintColorSecondary],\n    });\n\n    return tintAnimation;\n  };\n\n  React.useEffect(() => {\n    animate();\n  }, [fill, animate]);\n\n  return (\n    <AnimatedProgress\n      {...other}\n      style={other.style as Animated.WithAnimatedValue<StyleProp<ViewStyle>>}\n      childrenContainerStyle={\n        other.childrenContainerStyle as Animated.WithAnimatedValue<\n          StyleProp<ViewStyle>\n        >\n      }\n      fill={fillAnimation}\n      tintColor={animateColor()}\n    />\n  );\n};\n\nexport default AnimatedCircularProgress;\n"],"mappings":";;;;;;;AAAA;;AACA;;AAOA;;;;;;;;;;AAGA,MAAMA,gBAAgB,GAAGC,qBAAA,CAASC,uBAAT,CAAiCC,yBAAjC,CAAzB;;AAWA,MAAMC,wBAAkE,GAAG,QAUrE;EAAA,IAVsE;IAC1EC,QAAQ,GAAG,GAD+D;IAE1EC,MAAM,GAAGC,mBAAA,CAAOC,GAAP,CAAWD,mBAAA,CAAOE,IAAlB,CAFiE;IAG1EC,IAH0E;IAI1EC,OAAO,GAAG,CAJgE;IAK1EC,eAAe,GAAG,KALwD;IAM1EC,kBAN0E;IAO1EC,mBAP0E;IAQ1EC,SAAS,GAAG,OAR8D;IAS1E,GAAGC;EATuE,CAUtE;EACJ,MAAM,CAACC,aAAD,IAAkBC,KAAK,CAACC,QAAN,CACtB,IAAIlB,qBAAA,CAASmB,KAAb,CAAmBT,OAAnB,CADsB,CAAxB;EAIA,MAAMU,OAAO,GAAGH,KAAK,CAACI,WAAN,CACd,YAIkC;IAAA,IAHhCC,KAGgC,uEAHhB,CAAC,CAGe;IAAA,IAFhCC,GAEgC;IAAA,IADhCf,IACgC;IAChC,MAAMgB,OAAO,GAAGF,KAAK,IAAI,CAAT,GAAaA,KAAb,GAAqBb,IAArC;IACA,MAAMgB,IAAI,GAAGF,GAAG,IAAInB,QAApB;IACA,MAAMsB,GAAG,GAAGlB,IAAI,IAAIH,MAApB;IACA,MAAMsB,SAAS,GAAGhB,eAAlB;;IAEA,MAAMiB,IAAI,GAAG5B,qBAAA,CAAS6B,MAAT,CAAgBb,aAAhB,EAA+B;MAC1CL,eAAe,EAAEgB,SADyB;MAE1CH,OAF0C;MAG1CnB,MAAM,EAAEqB,GAHkC;MAI1CtB,QAAQ,EAAEqB;IAJgC,CAA/B,CAAb;;IAMAG,IAAI,CAACE,KAAL,CAAWjB,mBAAX;IAEA,OAAOe,IAAP;EACD,CApBa,EAqBd,CACExB,QADF,EAEEC,MAFF,EAGEI,IAHF,EAIEE,eAJF,EAKEK,aALF,EAMEH,mBANF,CArBc,CAAhB;;EA+BA,MAAMkB,YAAY,GAAG,MAAM;IACzB,IAAI,CAACnB,kBAAL,EAAyB;MACvB,OAAOE,SAAP;IACD;;IAED,MAAMkB,aAAa,GAAGhB,aAAa,CAACiB,WAAd,CAA0B;MAC9CC,UAAU,EAAE,CAAC,CAAD,EAAI,GAAJ,CADkC;MAE9CC,WAAW,EAAE,CAACrB,SAAD,EAAYF,kBAAZ;IAFiC,CAA1B,CAAtB;IAKA,OAAOoB,aAAP;EACD,CAXD;;EAaAf,KAAK,CAACmB,SAAN,CAAgB,MAAM;IACpBhB,OAAO;EACR,CAFD,EAEG,CAACX,IAAD,EAAOW,OAAP,CAFH;EAIA,oBACE,oBAAC,gBAAD,eACML,KADN;IAEE,KAAK,EAAEA,KAAK,CAACsB,KAFf;IAGE,sBAAsB,EACpBtB,KAAK,CAACuB,sBAJV;IAQE,IAAI,EAAEtB,aARR;IASE,SAAS,EAAEe,YAAY;EATzB,GADF;AAaD,CA5ED;;eA8Ee5B,wB"}