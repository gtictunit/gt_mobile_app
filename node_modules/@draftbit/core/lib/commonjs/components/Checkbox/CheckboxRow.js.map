{"version":3,"names":["Direction","renderLabel","value","labelStyle","textStyle","isString","CheckboxRow","label","labelContainerStyle","checkboxStyle","direction","Row","Icon","status","disabled","onPress","onCheck","onUncheck","color","uncheckedColor","defaultValue","checkedIcon","uncheckedIcon","size","style","rest","internalValue","setInternalValue","React","useState","useEffect","previousDefaultValue","usePrevious","Boolean","handlePress","newValue","textStyles","viewStyles","extractStyles","styles","mainParent","flexDirection","alignItems","StyleSheet","create","justifyContent","paddingStart","minHeight","paddingEnd","display","Platform","select","web","cursor","userSelect","flex"],"sources":["CheckboxRow.tsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  StyleProp,\n  ViewStyle,\n  StyleSheet,\n  TextStyle,\n  View,\n  Platform,\n} from \"react-native\";\nimport { isString } from \"lodash\";\n\nimport type { IconSlot } from \"../../interfaces/Icon\";\nimport { extractStyles } from \"../../utilities\";\nimport { usePrevious } from \"../../hooks\";\nimport Text from \"../Text\";\nimport Touchable from \"../Touchable\";\nimport Checkbox, { CheckboxProps } from \"./Checkbox\";\n\nexport enum Direction {\n  Row = \"row\",\n  RowReverse = \"row-reverse\",\n}\n\nexport interface CheckboxRowProps extends CheckboxProps {\n  label: string | React.ReactNode;\n  labelStyle?: StyleProp<TextStyle>;\n  labelContainerStyle: StyleProp<ViewStyle>;\n  checkboxStyle?: StyleProp<ViewStyle>;\n  direction?: Direction;\n}\n\nconst renderLabel = (\n  value: string | React.ReactNode,\n  labelStyle: StyleProp<TextStyle>,\n  textStyle: StyleProp<TextStyle>\n) => {\n  if (isString(value)) {\n    return <Text style={[textStyle, labelStyle]}>{value}</Text>;\n  } else {\n    return <>{value}</>;\n  }\n};\n\nconst CheckboxRow: React.FC<CheckboxRowProps & IconSlot> = ({\n  label = \"Label\",\n  labelStyle,\n  labelContainerStyle,\n  checkboxStyle,\n  direction = Direction.Row,\n  Icon,\n  status,\n  disabled = false,\n  onPress,\n  onCheck,\n  onUncheck,\n  color,\n  uncheckedColor,\n  defaultValue,\n  checkedIcon,\n  uncheckedIcon,\n  size,\n  style,\n  ...rest\n}) => {\n  const [internalValue, setInternalValue] = React.useState<boolean>(\n    status || defaultValue || false\n  );\n\n  React.useEffect(() => {\n    if (status != null) {\n      setInternalValue(status);\n    }\n  }, [status]);\n\n  // This special logic is to handle weird APIs like Airtable that return\n  // true or undefined for a boolean\n  const previousDefaultValue = usePrevious(defaultValue) as boolean | undefined;\n\n  React.useEffect(() => {\n    if (defaultValue !== previousDefaultValue) {\n      setInternalValue(Boolean(defaultValue));\n    }\n  }, [defaultValue, previousDefaultValue]);\n\n  const handlePress = () => {\n    const newValue = !internalValue;\n\n    setInternalValue(newValue);\n    onPress?.(newValue);\n\n    if (newValue) {\n      onCheck?.();\n    }\n\n    if (!newValue) {\n      onUncheck?.();\n    }\n  };\n\n  const { textStyles, viewStyles } = extractStyles(style);\n\n  return (\n    <Touchable\n      onPress={handlePress}\n      style={[viewStyles, styles.mainParent, { flexDirection: direction }]}\n      disabled={disabled}\n      {...rest}\n    >\n      <View\n        style={[\n          styles.label,\n          {\n            alignItems: direction === Direction.Row ? \"flex-start\" : \"flex-end\",\n          },\n          labelContainerStyle,\n        ]}\n      >\n        {renderLabel(label, textStyles, labelStyle)}\n      </View>\n\n      <Checkbox\n        Icon={Icon}\n        status={internalValue}\n        style={checkboxStyle}\n        disabled={disabled}\n        onPress={handlePress}\n        color={color}\n        uncheckedColor={uncheckedColor}\n        checkedIcon={checkedIcon}\n        uncheckedIcon={uncheckedIcon}\n        size={size}\n      />\n    </Touchable>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainParent: {\n    alignItems: \"center\",\n    justifyContent: \"space-around\",\n    paddingStart: 20,\n    minHeight: 50,\n    paddingEnd: 20,\n    display: \"flex\",\n    ...Platform.select({\n      web: {\n        cursor: \"pointer\",\n        userSelect: \"none\",\n      },\n    }),\n  },\n  label: {\n    flex: 3,\n  },\n});\n\nexport default CheckboxRow;\n"],"mappings":"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"}