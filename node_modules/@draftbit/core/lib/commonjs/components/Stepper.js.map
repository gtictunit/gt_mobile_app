{"version":3,"names":["Stepper","min","Infinity","max","value","valueProp","defaultValue","style","typeStyle","iconSize","iconColor","onChange","theme","colors","typography","Icon","setValue","useState","isValidValue","valueArg","handlePlusOrMinus","type","newValue","useEffect","isNumber","flexDirection","opacity","body1","textAlign","alignSelf","color","medium","marginHorizontal","withTheme"],"sources":["Stepper.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from \"react\";\nimport { View, Text, StyleProp, ViewStyle, TextStyle } from \"react-native\";\nimport { isNumber } from \"lodash\";\n\nimport { withTheme } from \"../theming\";\nimport type { Theme } from \"../styles/DefaultTheme\";\nimport type { IconSlot } from \"../interfaces/Icon\";\nimport IconButton from \"./IconButton\";\n\ntype Props = {\n  min: number;\n  max: number;\n  value?: number;\n  defaultValue?: number;\n  style?: StyleProp<ViewStyle>;\n  typeStyle?: StyleProp<TextStyle>;\n  iconSize: number;\n  iconColor?: string;\n  onChange?: (value: number) => void;\n  theme: Theme;\n} & IconSlot;\n\nconst Stepper: FC<Props> = ({\n  min = -Infinity,\n  max = Infinity,\n  value: valueProp,\n  defaultValue,\n  style,\n  typeStyle,\n  iconSize = 24,\n  iconColor,\n  onChange,\n  theme: { colors, typography },\n  Icon,\n}) => {\n  const [value, setValue] = useState(defaultValue ?? 0);\n\n  const isValidValue = (valueArg: number) => valueArg >= min && valueArg <= max;\n\n  const handlePlusOrMinus = (type: \"plus\" | \"minus\") => {\n    const newValue = type === \"plus\" ? value + 1 : value - 1;\n\n    if (isValidValue(newValue)) {\n      setValue(newValue);\n      onChange?.(newValue);\n    }\n  };\n\n  useEffect(() => {\n    if (\n      valueProp != null &&\n      isNumber(valueProp) &&\n      valueProp !== value &&\n      isValidValue(valueProp)\n    ) {\n      setValue(valueProp);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [valueProp]);\n\n  return (\n    <View style={[{ flexDirection: \"row\" }, style]}>\n      <IconButton\n        Icon={Icon}\n        icon=\"MaterialIcons/remove\"\n        onPress={() => handlePlusOrMinus(\"minus\")}\n        size={iconSize}\n        color={iconColor}\n        disabled={value === min}\n        style={{ opacity: value === min ? 0.5 : 1 }}\n      />\n\n      <Text\n        style={[\n          typography.body1,\n          {\n            textAlign: \"center\",\n            alignSelf: \"center\",\n            color: colors.medium,\n            marginHorizontal: 8,\n          },\n          typeStyle,\n        ]}\n      >\n        {value}\n      </Text>\n\n      <IconButton\n        Icon={Icon}\n        icon=\"MaterialIcons/add\"\n        onPress={() => handlePlusOrMinus(\"plus\")}\n        size={iconSize}\n        color={iconColor}\n        disabled={value === max}\n        style={{ opacity: value === max ? 0.5 : 1 }}\n      />\n    </View>\n  );\n};\n\nexport default withTheme(Stepper);\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAGA;;;;;;;;AAeA,MAAMA,OAAkB,GAAG,QAYrB;EAAA,IAZsB;IAC1BC,GAAG,GAAG,CAACC,QADmB;IAE1BC,GAAG,GAAGD,QAFoB;IAG1BE,KAAK,EAAEC,SAHmB;IAI1BC,YAJ0B;IAK1BC,KAL0B;IAM1BC,SAN0B;IAO1BC,QAAQ,GAAG,EAPe;IAQ1BC,SAR0B;IAS1BC,QAT0B;IAU1BC,KAAK,EAAE;MAAEC,MAAF;MAAUC;IAAV,CAVmB;IAW1BC;EAX0B,CAYtB;EACJ,MAAM,CAACX,KAAD,EAAQY,QAAR,IAAoB,IAAAC,eAAA,EAASX,YAAT,aAASA,YAAT,cAASA,YAAT,GAAyB,CAAzB,CAA1B;;EAEA,MAAMY,YAAY,GAAIC,QAAD,IAAsBA,QAAQ,IAAIlB,GAAZ,IAAmBkB,QAAQ,IAAIhB,GAA1E;;EAEA,MAAMiB,iBAAiB,GAAIC,IAAD,IAA4B;IACpD,MAAMC,QAAQ,GAAGD,IAAI,KAAK,MAAT,GAAkBjB,KAAK,GAAG,CAA1B,GAA8BA,KAAK,GAAG,CAAvD;;IAEA,IAAIc,YAAY,CAACI,QAAD,CAAhB,EAA4B;MAC1BN,QAAQ,CAACM,QAAD,CAAR;MACAX,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAGW,QAAH,CAAR;IACD;EACF,CAPD;;EASA,IAAAC,gBAAA,EAAU,MAAM;IACd,IACElB,SAAS,IAAI,IAAb,IACA,IAAAmB,gBAAA,EAASnB,SAAT,CADA,IAEAA,SAAS,KAAKD,KAFd,IAGAc,YAAY,CAACb,SAAD,CAJd,EAKE;MACAW,QAAQ,CAACX,SAAD,CAAR;IACD,CARa,CASd;;EACD,CAVD,EAUG,CAACA,SAAD,CAVH;EAYA,oBACE,6BAAC,iBAAD;IAAM,KAAK,EAAE,CAAC;MAAEoB,aAAa,EAAE;IAAjB,CAAD,EAA2BlB,KAA3B;EAAb,gBACE,6BAAC,mBAAD;IACE,IAAI,EAAEQ,IADR;IAEE,IAAI,EAAC,sBAFP;IAGE,OAAO,EAAE,MAAMK,iBAAiB,CAAC,OAAD,CAHlC;IAIE,IAAI,EAAEX,QAJR;IAKE,KAAK,EAAEC,SALT;IAME,QAAQ,EAAEN,KAAK,KAAKH,GANtB;IAOE,KAAK,EAAE;MAAEyB,OAAO,EAAEtB,KAAK,KAAKH,GAAV,GAAgB,GAAhB,GAAsB;IAAjC;EAPT,EADF,eAWE,6BAAC,iBAAD;IACE,KAAK,EAAE,CACLa,UAAU,CAACa,KADN,EAEL;MACEC,SAAS,EAAE,QADb;MAEEC,SAAS,EAAE,QAFb;MAGEC,KAAK,EAAEjB,MAAM,CAACkB,MAHhB;MAIEC,gBAAgB,EAAE;IAJpB,CAFK,EAQLxB,SARK;EADT,GAYGJ,KAZH,CAXF,eA0BE,6BAAC,mBAAD;IACE,IAAI,EAAEW,IADR;IAEE,IAAI,EAAC,mBAFP;IAGE,OAAO,EAAE,MAAMK,iBAAiB,CAAC,MAAD,CAHlC;IAIE,IAAI,EAAEX,QAJR;IAKE,KAAK,EAAEC,SALT;IAME,QAAQ,EAAEN,KAAK,KAAKD,GANtB;IAOE,KAAK,EAAE;MAAEuB,OAAO,EAAEtB,KAAK,KAAKD,GAAV,GAAgB,GAAhB,GAAsB;IAAjC;EAPT,EA1BF,CADF;AAsCD,CA5ED;;eA8Ee,IAAA8B,kBAAA,EAAUjC,OAAV,C"}