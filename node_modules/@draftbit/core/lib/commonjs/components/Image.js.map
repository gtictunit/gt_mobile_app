{"version":3,"names":["generateDimensions","aspectRatio","width","height","Image","source","resizeMode","style","props","imageSource","undefined","Config","placeholderImageURL","styles","StyleSheet","flatten"],"sources":["Image.tsx"],"sourcesContent":["/* README: Internal Image component used for stuff like Card. DO NOT EXPORT! */\nimport React from \"react\";\nimport {\n  Image as NativeImage,\n  ImageProps,\n  StyleSheet,\n  ImageSourcePropType,\n} from \"react-native\";\nimport Config from \"./Config\";\n\nimport AspectRatio from \"./AspectRatio\";\n\ntype ImageStyleProp = {\n  width?: number;\n  height?: number;\n  aspectRatio?: number;\n};\n\nconst generateDimensions = ({ aspectRatio, width, height }: ImageStyleProp) => {\n  if (aspectRatio && !width && !height) {\n    return {\n      aspectRatio,\n      width: \"100%\",\n    };\n  }\n\n  if (aspectRatio && height) {\n    return {\n      aspectRatio,\n      height,\n      width: aspectRatio * height,\n    };\n  }\n\n  if (aspectRatio && width) {\n    return {\n      aspectRatio,\n      width,\n      height: width / aspectRatio,\n    };\n  }\n\n  return { width, height };\n};\n\nconst Image: React.FC<ImageProps> = ({\n  source,\n  resizeMode = \"cover\",\n  style,\n  ...props\n}) => {\n  let imageSource =\n    source === null || source === undefined\n      ? Config.placeholderImageURL\n      : source;\n\n  const styles = StyleSheet.flatten(style || {});\n  const { aspectRatio, width, height } = generateDimensions(\n    styles as ImageStyleProp\n  );\n\n  if (aspectRatio) {\n    return (\n      <AspectRatio style={[style, { width, height, aspectRatio }]}>\n        <NativeImage\n          {...props}\n          source={imageSource as ImageSourcePropType}\n          resizeMode={resizeMode}\n          style={[\n            style,\n            {\n              height: \"100%\",\n              width: \"100%\",\n            },\n          ]}\n        />\n      </AspectRatio>\n    );\n  }\n\n  return (\n    <NativeImage\n      {...props}\n      source={source as ImageSourcePropType}\n      resizeMode={resizeMode}\n      style={style}\n    />\n  );\n};\n\nexport default Image;\n"],"mappings":";;;;;;;AACA;;AACA;;AAMA;;AAEA;;;;;;AAQA,MAAMA,kBAAkB,GAAG,QAAoD;EAAA,IAAnD;IAAEC,WAAF;IAAeC,KAAf;IAAsBC;EAAtB,CAAmD;;EAC7E,IAAIF,WAAW,IAAI,CAACC,KAAhB,IAAyB,CAACC,MAA9B,EAAsC;IACpC,OAAO;MACLF,WADK;MAELC,KAAK,EAAE;IAFF,CAAP;EAID;;EAED,IAAID,WAAW,IAAIE,MAAnB,EAA2B;IACzB,OAAO;MACLF,WADK;MAELE,MAFK;MAGLD,KAAK,EAAED,WAAW,GAAGE;IAHhB,CAAP;EAKD;;EAED,IAAIF,WAAW,IAAIC,KAAnB,EAA0B;IACxB,OAAO;MACLD,WADK;MAELC,KAFK;MAGLC,MAAM,EAAED,KAAK,GAAGD;IAHX,CAAP;EAKD;;EAED,OAAO;IAAEC,KAAF;IAASC;EAAT,CAAP;AACD,CAzBD;;AA2BA,MAAMC,KAA2B,GAAG,SAK9B;EAAA,IAL+B;IACnCC,MADmC;IAEnCC,UAAU,GAAG,OAFsB;IAGnCC,KAHmC;IAInC,GAAGC;EAJgC,CAK/B;EACJ,IAAIC,WAAW,GACbJ,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAKK,SAA9B,GACIC,eAAA,CAAOC,mBADX,GAEIP,MAHN;;EAKA,MAAMQ,MAAM,GAAGC,uBAAA,CAAWC,OAAX,CAAmBR,KAAK,IAAI,EAA5B,CAAf;;EACA,MAAM;IAAEN,WAAF;IAAeC,KAAf;IAAsBC;EAAtB,IAAiCH,kBAAkB,CACvDa,MADuD,CAAzD;;EAIA,IAAIZ,WAAJ,EAAiB;IACf,oBACE,6BAAC,oBAAD;MAAa,KAAK,EAAE,CAACM,KAAD,EAAQ;QAAEL,KAAF;QAASC,MAAT;QAAiBF;MAAjB,CAAR;IAApB,gBACE,6BAAC,kBAAD,eACMO,KADN;MAEE,MAAM,EAAEC,WAFV;MAGE,UAAU,EAAEH,UAHd;MAIE,KAAK,EAAE,CACLC,KADK,EAEL;QACEJ,MAAM,EAAE,MADV;QAEED,KAAK,EAAE;MAFT,CAFK;IAJT,GADF,CADF;EAgBD;;EAED,oBACE,6BAAC,kBAAD,eACMM,KADN;IAEE,MAAM,EAAEH,MAFV;IAGE,UAAU,EAAEC,UAHd;IAIE,KAAK,EAAEC;EAJT,GADF;AAQD,CA3CD;;eA6CeH,K"}