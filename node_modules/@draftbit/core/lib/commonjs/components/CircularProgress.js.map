{"version":3,"names":["CircularProgress","React","Component","centerX","centerY","radius","angleInDegrees","angleInRadians","Math","PI","x","cos","y","sin","startAngle","endAngle","start","polarToCartesian","end","largeArcFlag","d","join","fill","min","max","render","size","width","backgroundWidth","tintColor","tintTransparency","backgroundColor","style","rotation","lineCap","arcSweepAngle","children","childrenContainerStyle","padding","renderCap","dashedBackground","gap","dashedTint","props","maxWidthCircle","sizeWithPadding","currentFillAngle","clampFill","backgroundPath","circlePath","circlePathItem","coordinate","cap","center","offset","localChildrenContainerStyle","position","left","top","height","borderRadius","alignItems","justifyContent","overflow","strokeDasharrayTint","Object","values","map","value","toString","strokeDasharrayBackground"],"sources":["CircularProgress.tsx"],"sourcesContent":["import React from \"react\";\nimport { View, StyleProp, ViewStyle } from \"react-native\";\nimport { Svg, Path, G } from \"react-native-svg\";\n\nexport type Props = {\n  size: number;\n  width: number;\n  backgroundWidth?: number;\n  tintColor?: string;\n  tintTransparency?: boolean;\n  backgroundColor?: string;\n  style?: StyleProp<ViewStyle>;\n  rotation?: string | number | undefined;\n  lineCap?: \"butt\" | \"square\" | \"round\" | undefined;\n  arcSweepAngle?: number;\n  fill: number;\n  children?: (fill: number) => React.ReactNode;\n  childrenContainerStyle?: StyleProp<ViewStyle>;\n  padding?: number;\n  renderCap?: (obj: { center: { x: number; y: number } }) => React.ReactNode;\n  dashedBackground?: { width: number; gap: number };\n  dashedTint?: { width: number; gap: number };\n};\n\nclass CircularProgress extends React.Component<Props> {\n  polarToCartesian = (\n    centerX: number,\n    centerY: number,\n    radius: number,\n    angleInDegrees: number\n  ): { x: number; y: number } => {\n    var angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0;\n    return {\n      x: centerX + radius * Math.cos(angleInRadians),\n      y: centerY + radius * Math.sin(angleInRadians),\n    };\n  };\n\n  circlePath = (\n    x: number,\n    y: number,\n    radius: number,\n    startAngle: number,\n    endAngle: number\n  ): string => {\n    var start = this.polarToCartesian(x, y, radius, endAngle * 0.9999);\n    var end = this.polarToCartesian(x, y, radius, startAngle);\n    var largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\n    var d = [\n      \"M\",\n      start.x,\n      start.y,\n      \"A\",\n      radius,\n      radius,\n      0,\n      largeArcFlag,\n      0,\n      end.x,\n      end.y,\n    ];\n    return d.join(\" \");\n  };\n\n  clampFill = (fill: number) => Math.min(100, Math.max(0, fill));\n\n  render() {\n    const {\n      size,\n      width,\n      backgroundWidth,\n      tintColor = \"black\",\n      tintTransparency = true,\n      backgroundColor,\n      style,\n      rotation = 90,\n      lineCap = \"butt\",\n      arcSweepAngle = 360,\n      fill,\n      children,\n      childrenContainerStyle,\n      padding = 0,\n      renderCap,\n      dashedBackground = { width: 0, gap: 0 },\n      dashedTint = { width: 0, gap: 0 },\n    } = this.props;\n\n    const maxWidthCircle = backgroundWidth\n      ? Math.max(width, backgroundWidth)\n      : width;\n    const sizeWithPadding = size / 2 + padding / 2;\n    const radius = size / 2 - maxWidthCircle / 2 - padding / 2;\n\n    const currentFillAngle = (arcSweepAngle * this.clampFill(fill)) / 100;\n    const backgroundPath = this.circlePath(\n      sizeWithPadding,\n      sizeWithPadding,\n      radius,\n      tintTransparency ? 0 : currentFillAngle,\n      arcSweepAngle\n    );\n    const circlePathItem = this.circlePath(\n      sizeWithPadding,\n      sizeWithPadding,\n      radius,\n      0,\n      currentFillAngle\n    );\n    const coordinate = this.polarToCartesian(\n      sizeWithPadding,\n      sizeWithPadding,\n      radius,\n      currentFillAngle\n    );\n    const cap = renderCap ? renderCap({ center: coordinate }) : null;\n\n    const offset = size - maxWidthCircle * 2;\n\n    const localChildrenContainerStyle: StyleProp<ViewStyle>[] = [\n      {\n        position: \"absolute\",\n        left: maxWidthCircle + padding / 2,\n        top: maxWidthCircle + padding / 2,\n        width: offset,\n        height: offset,\n        borderRadius: offset / 2,\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        overflow: \"hidden\",\n      },\n      childrenContainerStyle,\n    ];\n\n    const strokeDasharrayTint =\n      dashedTint.gap > 0\n        ? Object.values(dashedTint)\n            .map((value) => value.toString())\n            .join(\" \")\n        : \"\";\n\n    const strokeDasharrayBackground =\n      dashedBackground.gap > 0\n        ? Object.values(dashedBackground)\n            .map((value) => value.toString())\n            .join(\" \")\n        : \"\";\n\n    return (\n      <View style={style}>\n        <Svg width={size + padding} height={size + padding}>\n          {/* @ts-ignore */}\n          <G\n            rotation={rotation}\n            originX={(size + padding) / 2}\n            originY={(size + padding) / 2}\n          >\n            {backgroundColor && (\n              <Path\n                d={backgroundPath}\n                stroke={backgroundColor}\n                strokeWidth={backgroundWidth || width}\n                strokeLinecap={lineCap}\n                strokeDasharray={strokeDasharrayBackground}\n                fill=\"transparent\"\n              />\n            )}\n            {fill > 0 && (\n              <Path\n                d={circlePathItem}\n                stroke={tintColor}\n                strokeWidth={width}\n                strokeLinecap={lineCap}\n                strokeDasharray={strokeDasharrayTint}\n                fill=\"transparent\"\n              />\n            )}\n            {cap}\n          </G>\n        </Svg>\n        {children && (\n          <View style={localChildrenContainerStyle}>{children(fill)}</View>\n        )}\n      </View>\n    );\n  }\n}\n\nexport default CircularProgress;\n"],"mappings":"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"}