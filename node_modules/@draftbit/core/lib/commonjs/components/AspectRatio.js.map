{"version":3,"names":["AspectRatio","props","layout","setLayout","React","useState","aspectRatio","inputStyle","StyleSheet","flatten","style","width","height","push","nativeEvent","l","children"],"sources":["AspectRatio.tsx"],"sourcesContent":["import React from \"react\";\nimport {\n  View,\n  StyleSheet,\n  LayoutRectangle,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\n\ntype Props = {\n  children?: React.ReactNode;\n  style?: StyleProp<ViewStyle>;\n};\n\nconst AspectRatio: React.FC<React.PropsWithChildren<Props>> = (props) => {\n  const [layout, setLayout] = React.useState<LayoutRectangle | null>(null);\n  const { aspectRatio = 1, ...inputStyle } =\n    StyleSheet.flatten(props.style) || {};\n  const style = [inputStyle, { aspectRatio }];\n\n  if (layout) {\n    const { width = 0, height = 0 } = layout;\n    if (width === 0) {\n      style.push({ width: height * (1 / aspectRatio), height });\n    } else {\n      style.push({ width, height: width * (1 / aspectRatio) });\n    }\n  }\n  return (\n    <View\n      {...props}\n      style={style}\n      onLayout={({ nativeEvent: { layout: l } }) => setLayout(l)}\n    >\n      {props.children}\n    </View>\n  );\n};\n\nexport default AspectRatio;\n"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAaA,MAAMA,WAAqD,GAAIC,KAAD,IAAW;EACvE,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBC,cAAA,CAAMC,QAAN,CAAuC,IAAvC,CAA5B;;EACA,MAAM;IAAEC,WAAW,GAAG,CAAhB;IAAmB,GAAGC;EAAtB,IACJC,uBAAA,CAAWC,OAAX,CAAmBR,KAAK,CAACS,KAAzB,KAAmC,EADrC;EAEA,MAAMA,KAAK,GAAG,CAACH,UAAD,EAAa;IAAED;EAAF,CAAb,CAAd;;EAEA,IAAIJ,MAAJ,EAAY;IACV,MAAM;MAAES,KAAK,GAAG,CAAV;MAAaC,MAAM,GAAG;IAAtB,IAA4BV,MAAlC;;IACA,IAAIS,KAAK,KAAK,CAAd,EAAiB;MACfD,KAAK,CAACG,IAAN,CAAW;QAAEF,KAAK,EAAEC,MAAM,IAAI,IAAIN,WAAR,CAAf;QAAqCM;MAArC,CAAX;IACD,CAFD,MAEO;MACLF,KAAK,CAACG,IAAN,CAAW;QAAEF,KAAF;QAASC,MAAM,EAAED,KAAK,IAAI,IAAIL,WAAR;MAAtB,CAAX;IACD;EACF;;EACD,oBACE,6BAAC,iBAAD,eACML,KADN;IAEE,KAAK,EAAES,KAFT;IAGE,QAAQ,EAAE;MAAA,IAAC;QAAEI,WAAW,EAAE;UAAEZ,MAAM,EAAEa;QAAV;MAAf,CAAD;MAAA,OAAoCZ,SAAS,CAACY,CAAD,CAA7C;IAAA;EAHZ,IAKGd,KAAK,CAACe,QALT,CADF;AASD,CAvBD;;eAyBehB,W"}