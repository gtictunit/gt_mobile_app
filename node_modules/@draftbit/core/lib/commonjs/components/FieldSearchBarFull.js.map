{"version":3,"names":["FieldSearchBarFull","showIcon","Icon","icon","placeholder","style","theme","colors","typography","onChange","changeOverride","onSubmit","submitOverride","value","defaultValue","focused","setIsFocused","React","useState","onBlur","internalValue","setInternalValue","useEffect","useCallback","text","onFocus","e","lineHeight","typeStyles","body2","handleChangeText","newValue","styles","container","Config","fieldSearchBarFullIconSize","primary","light","marginLeft","flex","color","medium","StyleSheet","create","flexDirection","alignItems","withTheme"],"sources":["FieldSearchBarFull.tsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  View,\n  TextInput,\n  StyleSheet,\n  StyleProp,\n  ViewStyle,\n  NativeSyntheticEvent,\n  TextInputSubmitEditingEventData,\n} from \"react-native\";\nimport { withTheme } from \"../theming\";\nimport type { Theme } from \"../styles/DefaultTheme\";\nimport type { IconSlot } from \"../interfaces/Icon\";\nimport Config from \"./Config\";\n\ntype Props = {\n  showIcon: boolean;\n  icon?: string;\n  placeholder?: string;\n  style?: StyleProp<ViewStyle>;\n  theme: Theme;\n  onChange?: (text: string) => void;\n  onSubmit?: (e: NativeSyntheticEvent<TextInputSubmitEditingEventData>) => void;\n  value?: string;\n  defaultValue?: string;\n} & IconSlot;\n\nconst FieldSearchBarFull: React.FC<React.PropsWithChildren<Props>> = ({\n  showIcon,\n  Icon,\n  icon = \"search\",\n  placeholder = \"\",\n  style,\n  theme: { colors, typography },\n  onChange: changeOverride,\n  onSubmit: submitOverride,\n  value,\n  defaultValue,\n}) => {\n  const [focused, setIsFocused] = React.useState(false);\n\n  const onBlur = () => {\n    setIsFocused(false);\n  };\n\n  const [internalValue, setInternalValue] = React.useState<string | undefined>(\n    value || defaultValue\n  );\n\n  React.useEffect(() => {\n    if (value != null) {\n      setInternalValue(value);\n    }\n  }, [value]);\n\n  React.useEffect(() => {\n    if (defaultValue != null) {\n      setInternalValue(defaultValue);\n    }\n  }, [defaultValue]);\n\n  const onChange = React.useCallback(\n    (text: string) => {\n      changeOverride && changeOverride(text);\n    },\n    [changeOverride]\n  );\n\n  const onFocus = () => {\n    setIsFocused(true);\n  };\n\n  const onSubmit = (\n    e: NativeSyntheticEvent<TextInputSubmitEditingEventData>\n  ) => {\n    submitOverride && submitOverride(e);\n  };\n\n  const { lineHeight, ...typeStyles } = typography.body2; // eslint-disable-line @typescript-eslint/no-unused-vars\n\n  const handleChangeText = (newValue: string) => {\n    setInternalValue(newValue);\n    if (onChange) {\n      onChange(newValue);\n    }\n  };\n\n  return (\n    <View style={[styles.container, style]}>\n      {showIcon && (\n        <Icon\n          name={icon}\n          size={Config.fieldSearchBarFullIconSize}\n          color={focused ? colors.primary : colors.light}\n        />\n      )}\n      <View style={{ marginLeft: showIcon ? 12 : 0, flex: 1 }}>\n        <TextInput\n          clearButtonMode=\"while-editing\"\n          placeholder={placeholder}\n          value={internalValue}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          onChangeText={handleChangeText}\n          onSubmitEditing={onSubmit}\n          placeholderTextColor={colors.light}\n          style={[\n            {\n              color: colors.medium,\n            },\n            typeStyles,\n          ]}\n        />\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n});\n\nexport default withTheme(FieldSearchBarFull);\n"],"mappings":"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"}