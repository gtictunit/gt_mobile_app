{"version":3,"names":["React","View","TextInput","StyleSheet","withTheme","Config","FieldSearchBarFull","showIcon","Icon","icon","placeholder","style","theme","colors","typography","onChange","changeOverride","onSubmit","submitOverride","value","defaultValue","focused","setIsFocused","useState","onBlur","internalValue","setInternalValue","useEffect","useCallback","text","onFocus","e","lineHeight","typeStyles","body2","handleChangeText","newValue","styles","container","fieldSearchBarFullIconSize","primary","light","marginLeft","flex","color","medium","create","flexDirection","alignItems"],"sources":["FieldSearchBarFull.tsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  View,\n  TextInput,\n  StyleSheet,\n  StyleProp,\n  ViewStyle,\n  NativeSyntheticEvent,\n  TextInputSubmitEditingEventData,\n} from \"react-native\";\nimport { withTheme } from \"../theming\";\nimport type { Theme } from \"../styles/DefaultTheme\";\nimport type { IconSlot } from \"../interfaces/Icon\";\nimport Config from \"./Config\";\n\ntype Props = {\n  showIcon: boolean;\n  icon?: string;\n  placeholder?: string;\n  style?: StyleProp<ViewStyle>;\n  theme: Theme;\n  onChange?: (text: string) => void;\n  onSubmit?: (e: NativeSyntheticEvent<TextInputSubmitEditingEventData>) => void;\n  value?: string;\n  defaultValue?: string;\n} & IconSlot;\n\nconst FieldSearchBarFull: React.FC<React.PropsWithChildren<Props>> = ({\n  showIcon,\n  Icon,\n  icon = \"search\",\n  placeholder = \"\",\n  style,\n  theme: { colors, typography },\n  onChange: changeOverride,\n  onSubmit: submitOverride,\n  value,\n  defaultValue,\n}) => {\n  const [focused, setIsFocused] = React.useState(false);\n\n  const onBlur = () => {\n    setIsFocused(false);\n  };\n\n  const [internalValue, setInternalValue] = React.useState<string | undefined>(\n    value || defaultValue\n  );\n\n  React.useEffect(() => {\n    if (value != null) {\n      setInternalValue(value);\n    }\n  }, [value]);\n\n  React.useEffect(() => {\n    if (defaultValue != null) {\n      setInternalValue(defaultValue);\n    }\n  }, [defaultValue]);\n\n  const onChange = React.useCallback(\n    (text: string) => {\n      changeOverride && changeOverride(text);\n    },\n    [changeOverride]\n  );\n\n  const onFocus = () => {\n    setIsFocused(true);\n  };\n\n  const onSubmit = (\n    e: NativeSyntheticEvent<TextInputSubmitEditingEventData>\n  ) => {\n    submitOverride && submitOverride(e);\n  };\n\n  const { lineHeight, ...typeStyles } = typography.body2; // eslint-disable-line @typescript-eslint/no-unused-vars\n\n  const handleChangeText = (newValue: string) => {\n    setInternalValue(newValue);\n    if (onChange) {\n      onChange(newValue);\n    }\n  };\n\n  return (\n    <View style={[styles.container, style]}>\n      {showIcon && (\n        <Icon\n          name={icon}\n          size={Config.fieldSearchBarFullIconSize}\n          color={focused ? colors.primary : colors.light}\n        />\n      )}\n      <View style={{ marginLeft: showIcon ? 12 : 0, flex: 1 }}>\n        <TextInput\n          clearButtonMode=\"while-editing\"\n          placeholder={placeholder}\n          value={internalValue}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          onChangeText={handleChangeText}\n          onSubmitEditing={onSubmit}\n          placeholderTextColor={colors.light}\n          style={[\n            {\n              color: colors.medium,\n            },\n            typeStyles,\n          ]}\n        />\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n});\n\nexport default withTheme(FieldSearchBarFull);\n"],"mappings":"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"}