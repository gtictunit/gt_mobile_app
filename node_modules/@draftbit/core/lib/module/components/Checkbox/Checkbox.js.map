{"version":3,"names":["React","View","StyleSheet","useTheme","Touchable","usePrevious","Checkbox","Icon","status","disabled","onPress","onCheck","onUncheck","color","uncheckedColor","defaultValue","checkedIcon","uncheckedIcon","size","style","rest","internalValue","setInternalValue","useState","useEffect","previousDefaultValue","Boolean","colors","checkboxColor","primary","handlePress","newValue","styles","container","width","height","icon","absoluteFill","fillContainer","fill","opacity","borderColor","create","borderRadius","alignItems","justifyContent","alignSelf"],"sources":["Checkbox.tsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  View,\n  StyleSheet,\n  TouchableHighlightProps,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\nimport { useTheme } from \"../../theming\";\nimport type { IconSlot } from \"../../interfaces/Icon\";\n\nimport Touchable from \"../Touchable\";\nimport { usePrevious } from \"../../hooks\";\n\nexport interface CheckboxProps {\n  status?: boolean;\n  disabled?: boolean;\n  onPress?: (checked: boolean) => void;\n  onCheck?: () => void;\n  onUncheck?: () => void;\n  color?: string;\n  uncheckedColor?: string;\n  checkedIcon?: string;\n  uncheckedIcon?: string;\n  defaultValue?: boolean;\n  size?: number;\n  style?: StyleProp<ViewStyle>;\n}\n\nconst Checkbox: React.FC<\n  CheckboxProps & TouchableHighlightProps & IconSlot\n> = ({\n  Icon,\n  status,\n  disabled = false,\n  onPress,\n  onCheck,\n  onUncheck,\n  color,\n  uncheckedColor,\n  defaultValue,\n  checkedIcon = \"MaterialCommunityIcons/checkbox-marked\",\n  uncheckedIcon = \"MaterialCommunityIcons/checkbox-blank-outline\",\n  size = 24,\n  style,\n  ...rest\n}) => {\n  const [internalValue, setInternalValue] = React.useState<boolean>(\n    status || defaultValue || false\n  );\n\n  React.useEffect(() => {\n    if (status != null) {\n      setInternalValue(status);\n    }\n  }, [status]);\n\n  // This special logic is to handle weird APIs like Airtable that return\n  // true or undefined for a boolean\n  const previousDefaultValue = usePrevious(defaultValue) as boolean | undefined;\n\n  React.useEffect(() => {\n    if (defaultValue !== previousDefaultValue) {\n      setInternalValue(Boolean(defaultValue));\n    }\n  }, [defaultValue, previousDefaultValue]);\n\n  const { colors } = useTheme();\n\n  const checkboxColor = internalValue\n    ? color || colors.primary\n    : uncheckedColor || colors.primary;\n\n  const handlePress = () => {\n    const newValue = !internalValue;\n\n    setInternalValue(newValue);\n    onPress?.(newValue);\n\n    if (newValue) {\n      onCheck?.();\n    }\n\n    if (!newValue) {\n      onUncheck?.();\n    }\n  };\n\n  return (\n    <Touchable\n      {...rest}\n      onPress={handlePress}\n      disabled={disabled}\n      accessibilityState={{ disabled }}\n      accessibilityRole=\"button\"\n      accessibilityLiveRegion=\"polite\"\n      style={[styles.container, style, { width: size, height: size }]}\n    >\n      <Icon\n        style={styles.icon}\n        name={internalValue ? checkedIcon : uncheckedIcon}\n        size={size}\n        color={checkboxColor}\n      />\n      <View style={[StyleSheet.absoluteFill, styles.fillContainer]}>\n        <View\n          style={[\n            styles.fill,\n            { opacity: disabled ? 0.5 : 1 },\n            { borderColor: checkboxColor },\n          ]}\n        />\n      </View>\n    </Touchable>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    borderRadius: 18,\n  },\n  fillContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  icon: {\n    alignSelf: \"center\",\n  },\n  fill: {\n    borderRadius: 5,\n    width: 30,\n    height: 30,\n    alignSelf: \"center\",\n  },\n});\n\nexport default Checkbox;\n"],"mappings":"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"}