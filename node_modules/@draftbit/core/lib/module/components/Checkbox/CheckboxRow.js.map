{"version":3,"names":["React","StyleSheet","View","Platform","isString","extractStyles","usePrevious","Text","Touchable","Checkbox","Direction","renderLabel","value","labelStyle","textStyle","CheckboxRow","label","labelContainerStyle","checkboxStyle","direction","Row","Icon","status","disabled","onPress","onCheck","onUncheck","color","uncheckedColor","defaultValue","checkedIcon","uncheckedIcon","size","style","rest","internalValue","setInternalValue","useState","useEffect","previousDefaultValue","Boolean","handlePress","newValue","textStyles","viewStyles","styles","mainParent","flexDirection","alignItems","create","justifyContent","paddingStart","minHeight","paddingEnd","display","select","web","cursor","userSelect","flex"],"sources":["CheckboxRow.tsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  StyleProp,\n  ViewStyle,\n  StyleSheet,\n  TextStyle,\n  View,\n  Platform,\n} from \"react-native\";\nimport { isString } from \"lodash\";\n\nimport type { IconSlot } from \"../../interfaces/Icon\";\nimport { extractStyles } from \"../../utilities\";\nimport { usePrevious } from \"../../hooks\";\nimport Text from \"../Text\";\nimport Touchable from \"../Touchable\";\nimport Checkbox, { CheckboxProps } from \"./Checkbox\";\n\nexport enum Direction {\n  Row = \"row\",\n  RowReverse = \"row-reverse\",\n}\n\nexport interface CheckboxRowProps extends CheckboxProps {\n  label: string | React.ReactNode;\n  labelStyle?: StyleProp<TextStyle>;\n  labelContainerStyle: StyleProp<ViewStyle>;\n  checkboxStyle?: StyleProp<ViewStyle>;\n  direction?: Direction;\n}\n\nconst renderLabel = (\n  value: string | React.ReactNode,\n  labelStyle: StyleProp<TextStyle>,\n  textStyle: StyleProp<TextStyle>\n) => {\n  if (isString(value)) {\n    return <Text style={[textStyle, labelStyle]}>{value}</Text>;\n  } else {\n    return <>{value}</>;\n  }\n};\n\nconst CheckboxRow: React.FC<CheckboxRowProps & IconSlot> = ({\n  label = \"Label\",\n  labelStyle,\n  labelContainerStyle,\n  checkboxStyle,\n  direction = Direction.Row,\n  Icon,\n  status,\n  disabled = false,\n  onPress,\n  onCheck,\n  onUncheck,\n  color,\n  uncheckedColor,\n  defaultValue,\n  checkedIcon,\n  uncheckedIcon,\n  size,\n  style,\n  ...rest\n}) => {\n  const [internalValue, setInternalValue] = React.useState<boolean>(\n    status || defaultValue || false\n  );\n\n  React.useEffect(() => {\n    if (status != null) {\n      setInternalValue(status);\n    }\n  }, [status]);\n\n  // This special logic is to handle weird APIs like Airtable that return\n  // true or undefined for a boolean\n  const previousDefaultValue = usePrevious(defaultValue) as boolean | undefined;\n\n  React.useEffect(() => {\n    if (defaultValue !== previousDefaultValue) {\n      setInternalValue(Boolean(defaultValue));\n    }\n  }, [defaultValue, previousDefaultValue]);\n\n  const handlePress = () => {\n    const newValue = !internalValue;\n\n    setInternalValue(newValue);\n    onPress?.(newValue);\n\n    if (newValue) {\n      onCheck?.();\n    }\n\n    if (!newValue) {\n      onUncheck?.();\n    }\n  };\n\n  const { textStyles, viewStyles } = extractStyles(style);\n\n  return (\n    <Touchable\n      onPress={handlePress}\n      style={[viewStyles, styles.mainParent, { flexDirection: direction }]}\n      disabled={disabled}\n      {...rest}\n    >\n      <View\n        style={[\n          styles.label,\n          {\n            alignItems: direction === Direction.Row ? \"flex-start\" : \"flex-end\",\n          },\n          labelContainerStyle,\n        ]}\n      >\n        {renderLabel(label, textStyles, labelStyle)}\n      </View>\n\n      <Checkbox\n        Icon={Icon}\n        status={internalValue}\n        style={checkboxStyle}\n        disabled={disabled}\n        onPress={handlePress}\n        color={color}\n        uncheckedColor={uncheckedColor}\n        checkedIcon={checkedIcon}\n        uncheckedIcon={uncheckedIcon}\n        size={size}\n      />\n    </Touchable>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainParent: {\n    alignItems: \"center\",\n    justifyContent: \"space-around\",\n    paddingStart: 20,\n    minHeight: 50,\n    paddingEnd: 20,\n    display: \"flex\",\n    ...Platform.select({\n      web: {\n        cursor: \"pointer\",\n        userSelect: \"none\",\n      },\n    }),\n  },\n  label: {\n    flex: 3,\n  },\n});\n\nexport default CheckboxRow;\n"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAGEC,UAHF,EAKEC,IALF,EAMEC,QANF,QAOO,cAPP;AAQA,SAASC,QAAT,QAAyB,QAAzB;AAGA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,QAAP,MAAwC,YAAxC;AAEA,WAAYC,SAAZ;;WAAYA,S;EAAAA,S;EAAAA,S;GAAAA,S,KAAAA,S;;AAaZ,MAAMC,WAAW,GAAG,CAClBC,KADkB,EAElBC,UAFkB,EAGlBC,SAHkB,KAIf;EACH,IAAIV,QAAQ,CAACQ,KAAD,CAAZ,EAAqB;IACnB,oBAAO,oBAAC,IAAD;MAAM,KAAK,EAAE,CAACE,SAAD,EAAYD,UAAZ;IAAb,GAAuCD,KAAvC,CAAP;EACD,CAFD,MAEO;IACL,oBAAO,0CAAGA,KAAH,CAAP;EACD;AACF,CAVD;;AAYA,MAAMG,WAAkD,GAAG,QAoBrD;EAAA,IApBsD;IAC1DC,KAAK,GAAG,OADkD;IAE1DH,UAF0D;IAG1DI,mBAH0D;IAI1DC,aAJ0D;IAK1DC,SAAS,GAAGT,SAAS,CAACU,GALoC;IAM1DC,IAN0D;IAO1DC,MAP0D;IAQ1DC,QAAQ,GAAG,KAR+C;IAS1DC,OAT0D;IAU1DC,OAV0D;IAW1DC,SAX0D;IAY1DC,KAZ0D;IAa1DC,cAb0D;IAc1DC,YAd0D;IAe1DC,WAf0D;IAgB1DC,aAhB0D;IAiB1DC,IAjB0D;IAkB1DC,KAlB0D;IAmB1D,GAAGC;EAnBuD,CAoBtD;EACJ,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCpC,KAAK,CAACqC,QAAN,CACxCf,MAAM,IAAIO,YAAV,IAA0B,KADc,CAA1C;EAIA7B,KAAK,CAACsC,SAAN,CAAgB,MAAM;IACpB,IAAIhB,MAAM,IAAI,IAAd,EAAoB;MAClBc,gBAAgB,CAACd,MAAD,CAAhB;IACD;EACF,CAJD,EAIG,CAACA,MAAD,CAJH,EALI,CAWJ;EACA;;EACA,MAAMiB,oBAAoB,GAAGjC,WAAW,CAACuB,YAAD,CAAxC;EAEA7B,KAAK,CAACsC,SAAN,CAAgB,MAAM;IACpB,IAAIT,YAAY,KAAKU,oBAArB,EAA2C;MACzCH,gBAAgB,CAACI,OAAO,CAACX,YAAD,CAAR,CAAhB;IACD;EACF,CAJD,EAIG,CAACA,YAAD,EAAeU,oBAAf,CAJH;;EAMA,MAAME,WAAW,GAAG,MAAM;IACxB,MAAMC,QAAQ,GAAG,CAACP,aAAlB;IAEAC,gBAAgB,CAACM,QAAD,CAAhB;IACAlB,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAGkB,QAAH,CAAP;;IAEA,IAAIA,QAAJ,EAAc;MACZjB,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO;IACR;;IAED,IAAI,CAACiB,QAAL,EAAe;MACbhB,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS;IACV;EACF,CAbD;;EAeA,MAAM;IAAEiB,UAAF;IAAcC;EAAd,IAA6BvC,aAAa,CAAC4B,KAAD,CAAhD;EAEA,oBACE,oBAAC,SAAD;IACE,OAAO,EAAEQ,WADX;IAEE,KAAK,EAAE,CAACG,UAAD,EAAaC,MAAM,CAACC,UAApB,EAAgC;MAAEC,aAAa,EAAE5B;IAAjB,CAAhC,CAFT;IAGE,QAAQ,EAAEI;EAHZ,GAIMW,IAJN,gBAME,oBAAC,IAAD;IACE,KAAK,EAAE,CACLW,MAAM,CAAC7B,KADF,EAEL;MACEgC,UAAU,EAAE7B,SAAS,KAAKT,SAAS,CAACU,GAAxB,GAA8B,YAA9B,GAA6C;IAD3D,CAFK,EAKLH,mBALK;EADT,GASGN,WAAW,CAACK,KAAD,EAAQ2B,UAAR,EAAoB9B,UAApB,CATd,CANF,eAkBE,oBAAC,QAAD;IACE,IAAI,EAAEQ,IADR;IAEE,MAAM,EAAEc,aAFV;IAGE,KAAK,EAAEjB,aAHT;IAIE,QAAQ,EAAEK,QAJZ;IAKE,OAAO,EAAEkB,WALX;IAME,KAAK,EAAEd,KANT;IAOE,cAAc,EAAEC,cAPlB;IAQE,WAAW,EAAEE,WARf;IASE,aAAa,EAAEC,aATjB;IAUE,IAAI,EAAEC;EAVR,EAlBF,CADF;AAiCD,CA3FD;;AA6FA,MAAMa,MAAM,GAAG5C,UAAU,CAACgD,MAAX,CAAkB;EAC/BH,UAAU,EAAE;IACVE,UAAU,EAAE,QADF;IAEVE,cAAc,EAAE,cAFN;IAGVC,YAAY,EAAE,EAHJ;IAIVC,SAAS,EAAE,EAJD;IAKVC,UAAU,EAAE,EALF;IAMVC,OAAO,EAAE,MANC;IAOV,GAAGnD,QAAQ,CAACoD,MAAT,CAAgB;MACjBC,GAAG,EAAE;QACHC,MAAM,EAAE,SADL;QAEHC,UAAU,EAAE;MAFT;IADY,CAAhB;EAPO,CADmB;EAe/B1C,KAAK,EAAE;IACL2C,IAAI,EAAE;EADD;AAfwB,CAAlB,CAAf;AAoBA,eAAe5C,WAAf"}