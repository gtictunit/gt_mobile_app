{"version":3,"names":["React","Animated","Easing","CircularProgress","AnimatedProgress","createAnimatedComponent","AnimatedCircularProgress","duration","easing","out","ease","fill","prefill","useNativeDriver","tintColorSecondary","onAnimationComplete","tintColor","other","fillAnimation","useState","Value","animate","useCallback","toVal","dur","toValue","dura","eas","useNative","anim","timing","start","animateColor","tintAnimation","interpolate","inputRange","outputRange","useEffect","style","childrenContainerStyle"],"sources":["AnimatedCircularProgress.tsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  Animated,\n  Easing,\n  EasingFunction,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\nimport CircularProgress, {\n  Props as CircularProgressProps,\n} from \"./CircularProgress\";\nconst AnimatedProgress = Animated.createAnimatedComponent(CircularProgress);\n\ntype Props = {\n  duration?: number;\n  easing?: EasingFunction;\n  prefill?: number;\n  useNativeDriver?: boolean;\n  tintColorSecondary?: string;\n  onAnimationComplete?: Animated.EndCallback | undefined;\n} & CircularProgressProps;\n\nconst AnimatedCircularProgress: React.FC<React.PropsWithChildren<Props>> = ({\n  duration = 500,\n  easing = Easing.out(Easing.ease),\n  fill,\n  prefill = 0,\n  useNativeDriver = false,\n  tintColorSecondary,\n  onAnimationComplete,\n  tintColor = \"black\",\n  ...other\n}) => {\n  const [fillAnimation] = React.useState<Animated.Value>(\n    new Animated.Value(prefill)\n  );\n\n  const animate = React.useCallback(\n    (\n      toVal: number = -1,\n      dur?: number,\n      ease?: EasingFunction\n    ): Animated.CompositeAnimation => {\n      const toValue = toVal >= 0 ? toVal : fill;\n      const dura = dur || duration;\n      const eas = ease || easing;\n      const useNative = useNativeDriver;\n\n      const anim = Animated.timing(fillAnimation, {\n        useNativeDriver: useNative,\n        toValue,\n        easing: eas,\n        duration: dura,\n      });\n      anim.start(onAnimationComplete);\n\n      return anim;\n    },\n    [\n      duration,\n      easing,\n      fill,\n      useNativeDriver,\n      fillAnimation,\n      onAnimationComplete,\n    ]\n  );\n\n  const animateColor = () => {\n    if (!tintColorSecondary) {\n      return tintColor;\n    }\n\n    const tintAnimation = fillAnimation.interpolate({\n      inputRange: [0, 100],\n      outputRange: [tintColor, tintColorSecondary],\n    });\n\n    return tintAnimation;\n  };\n\n  React.useEffect(() => {\n    animate();\n  }, [fill, animate]);\n\n  return (\n    <AnimatedProgress\n      {...other}\n      style={other.style as Animated.WithAnimatedValue<StyleProp<ViewStyle>>}\n      childrenContainerStyle={\n        other.childrenContainerStyle as Animated.WithAnimatedValue<\n          StyleProp<ViewStyle>\n        >\n      }\n      fill={fillAnimation}\n      tintColor={animateColor()}\n    />\n  );\n};\n\nexport default AnimatedCircularProgress;\n"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SACEC,QADF,EAEEC,MAFF,QAMO,cANP;AAOA,OAAOC,gBAAP,MAEO,oBAFP;AAGA,MAAMC,gBAAgB,GAAGH,QAAQ,CAACI,uBAAT,CAAiCF,gBAAjC,CAAzB;;AAWA,MAAMG,wBAAkE,GAAG,QAUrE;EAAA,IAVsE;IAC1EC,QAAQ,GAAG,GAD+D;IAE1EC,MAAM,GAAGN,MAAM,CAACO,GAAP,CAAWP,MAAM,CAACQ,IAAlB,CAFiE;IAG1EC,IAH0E;IAI1EC,OAAO,GAAG,CAJgE;IAK1EC,eAAe,GAAG,KALwD;IAM1EC,kBAN0E;IAO1EC,mBAP0E;IAQ1EC,SAAS,GAAG,OAR8D;IAS1E,GAAGC;EATuE,CAUtE;EACJ,MAAM,CAACC,aAAD,IAAkBlB,KAAK,CAACmB,QAAN,CACtB,IAAIlB,QAAQ,CAACmB,KAAb,CAAmBR,OAAnB,CADsB,CAAxB;EAIA,MAAMS,OAAO,GAAGrB,KAAK,CAACsB,WAAN,CACd,YAIkC;IAAA,IAHhCC,KAGgC,uEAHhB,CAAC,CAGe;IAAA,IAFhCC,GAEgC;IAAA,IADhCd,IACgC;IAChC,MAAMe,OAAO,GAAGF,KAAK,IAAI,CAAT,GAAaA,KAAb,GAAqBZ,IAArC;IACA,MAAMe,IAAI,GAAGF,GAAG,IAAIjB,QAApB;IACA,MAAMoB,GAAG,GAAGjB,IAAI,IAAIF,MAApB;IACA,MAAMoB,SAAS,GAAGf,eAAlB;IAEA,MAAMgB,IAAI,GAAG5B,QAAQ,CAAC6B,MAAT,CAAgBZ,aAAhB,EAA+B;MAC1CL,eAAe,EAAEe,SADyB;MAE1CH,OAF0C;MAG1CjB,MAAM,EAAEmB,GAHkC;MAI1CpB,QAAQ,EAAEmB;IAJgC,CAA/B,CAAb;IAMAG,IAAI,CAACE,KAAL,CAAWhB,mBAAX;IAEA,OAAOc,IAAP;EACD,CApBa,EAqBd,CACEtB,QADF,EAEEC,MAFF,EAGEG,IAHF,EAIEE,eAJF,EAKEK,aALF,EAMEH,mBANF,CArBc,CAAhB;;EA+BA,MAAMiB,YAAY,GAAG,MAAM;IACzB,IAAI,CAAClB,kBAAL,EAAyB;MACvB,OAAOE,SAAP;IACD;;IAED,MAAMiB,aAAa,GAAGf,aAAa,CAACgB,WAAd,CAA0B;MAC9CC,UAAU,EAAE,CAAC,CAAD,EAAI,GAAJ,CADkC;MAE9CC,WAAW,EAAE,CAACpB,SAAD,EAAYF,kBAAZ;IAFiC,CAA1B,CAAtB;IAKA,OAAOmB,aAAP;EACD,CAXD;;EAaAjC,KAAK,CAACqC,SAAN,CAAgB,MAAM;IACpBhB,OAAO;EACR,CAFD,EAEG,CAACV,IAAD,EAAOU,OAAP,CAFH;EAIA,oBACE,oBAAC,gBAAD,eACMJ,KADN;IAEE,KAAK,EAAEA,KAAK,CAACqB,KAFf;IAGE,sBAAsB,EACpBrB,KAAK,CAACsB,sBAJV;IAQE,IAAI,EAAErB,aARR;IASE,SAAS,EAAEc,YAAY;EATzB,GADF;AAaD,CA5ED;;AA8EA,eAAe1B,wBAAf"}