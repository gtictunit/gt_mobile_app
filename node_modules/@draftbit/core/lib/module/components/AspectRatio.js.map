{"version":3,"names":["React","View","StyleSheet","AspectRatio","props","layout","setLayout","useState","aspectRatio","inputStyle","flatten","style","width","height","push","nativeEvent","l","children"],"sources":["AspectRatio.tsx"],"sourcesContent":["import React from \"react\";\nimport {\n  View,\n  StyleSheet,\n  LayoutRectangle,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\n\ntype Props = {\n  children?: React.ReactNode;\n  style?: StyleProp<ViewStyle>;\n};\n\nconst AspectRatio: React.FC<React.PropsWithChildren<Props>> = (props) => {\n  const [layout, setLayout] = React.useState<LayoutRectangle | null>(null);\n  const { aspectRatio = 1, ...inputStyle } =\n    StyleSheet.flatten(props.style) || {};\n  const style = [inputStyle, { aspectRatio }];\n\n  if (layout) {\n    const { width = 0, height = 0 } = layout;\n    if (width === 0) {\n      style.push({ width: height * (1 / aspectRatio), height });\n    } else {\n      style.push({ width, height: width * (1 / aspectRatio) });\n    }\n  }\n  return (\n    <View\n      {...props}\n      style={style}\n      onLayout={({ nativeEvent: { layout: l } }) => setLayout(l)}\n    >\n      {props.children}\n    </View>\n  );\n};\n\nexport default AspectRatio;\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,IADF,EAEEC,UAFF,QAMO,cANP;;AAaA,MAAMC,WAAqD,GAAIC,KAAD,IAAW;EACvE,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,KAAK,CAACO,QAAN,CAAuC,IAAvC,CAA5B;EACA,MAAM;IAAEC,WAAW,GAAG,CAAhB;IAAmB,GAAGC;EAAtB,IACJP,UAAU,CAACQ,OAAX,CAAmBN,KAAK,CAACO,KAAzB,KAAmC,EADrC;EAEA,MAAMA,KAAK,GAAG,CAACF,UAAD,EAAa;IAAED;EAAF,CAAb,CAAd;;EAEA,IAAIH,MAAJ,EAAY;IACV,MAAM;MAAEO,KAAK,GAAG,CAAV;MAAaC,MAAM,GAAG;IAAtB,IAA4BR,MAAlC;;IACA,IAAIO,KAAK,KAAK,CAAd,EAAiB;MACfD,KAAK,CAACG,IAAN,CAAW;QAAEF,KAAK,EAAEC,MAAM,IAAI,IAAIL,WAAR,CAAf;QAAqCK;MAArC,CAAX;IACD,CAFD,MAEO;MACLF,KAAK,CAACG,IAAN,CAAW;QAAEF,KAAF;QAASC,MAAM,EAAED,KAAK,IAAI,IAAIJ,WAAR;MAAtB,CAAX;IACD;EACF;;EACD,oBACE,oBAAC,IAAD,eACMJ,KADN;IAEE,KAAK,EAAEO,KAFT;IAGE,QAAQ,EAAE;MAAA,IAAC;QAAEI,WAAW,EAAE;UAAEV,MAAM,EAAEW;QAAV;MAAf,CAAD;MAAA,OAAoCV,SAAS,CAACU,CAAD,CAA7C;IAAA;EAHZ,IAKGZ,KAAK,CAACa,QALT,CADF;AASD,CAvBD;;AAyBA,eAAed,WAAf"}